(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{36:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},60:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(1),c=a(2),s=a.n(c),i=a(29),l=a.n(i),o=a(5),u=(a(36),a(21)),d=(a(37),a(39),u.a.initializeApp({apiKey:"AIzaSyBExWAJpozBWvZt-hb8yERjzorvdvfrutw",authDomain:"businesscard-cd740.firebaseapp.com",projectId:"businesscard-cd740",storageBucket:"businesscard-cd740.appspot.com",messagingSenderId:"514367982615",appId:"1:514367982615:web:4d486c53c6b20241412052",measurementId:"G-HR58QNS6EL"}),u.a),m=u.a.auth(),j=u.a.database(),_=(a(42),function(){return Object(r.jsxs)("div",{className:"loading",children:[Object(r.jsx)("svg",{className:"loading__svg",children:Object(r.jsx)("circle",{cx:"70",cy:"70",r:"70"})}),Object(r.jsx)("span",{children:"Loading..."})]})}),b=a(20),f=a(6),p=(a(43),a(44),a(45),function(e){var t=e.FileInput,a=e.card,n=e.isNew,s=e.onInfo,i=e.onDelete,l=e.updateCard,u=a.id,d=a.name,m=a.company,j=a.theme,_=a.title,b=a.email,f=a.message,p=a.fileURL,h=Object(c.useState)(j),O=Object(o.a)(h,2),x=O[0],v=O[1],g=Object(c.useRef)(),N=function(e){var t=e.target,a=t.checked,r=t.value;switch(r){case"dark":a&&v("dark"),!n&&l({id:u,name:"theme",value:r});break;case"light":a&&v("light"),!n&&l({id:u,name:"theme",value:r});break;default:window.alert("error")}},y=Object(c.useState)(d),w=Object(o.a)(y,2),k=w[0],C=w[1],F=Object(c.useState)(m),I=Object(o.a)(F,2),S=I[0],R=I[1],E=Object(c.useState)(_),L=Object(o.a)(E,2),A=L[0],U=L[1],D=Object(c.useState)(b),W=Object(o.a)(D,2),Y=W[0],z=W[1],q=Object(c.useState)(f),M=Object(o.a)(q,2),P=M[0],G=M[1],K=function(e){var t=e.target,a=t.name,r=t.value;switch(a){case"name":C(r),!n&&l({id:u,name:a,value:r});break;case"company":R(r),!n&&l({id:u,name:a,value:r});break;case"title":U(r),!n&&l({id:u,name:a,value:r});break;case"email":z(r),!n&&l({id:u,name:a,value:r});break;case"message":G(r),!n&&l({id:u,name:a,value:r});break;default:window.alert("error")}},B=Object(c.useState)(""),V=Object(o.a)(B,2),X=V[0],J=V[1];return Object(r.jsx)("li",{className:"cardEditForm",children:Object(r.jsxs)("form",{className:"cardEditForm__form",onSubmit:function(e){(e.preventDefault(),n)&&s({id:u,name:k,company:S,theme:x,title:A,email:Y,message:P,fileName:k,fileURL:X||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6affXwdu79nsCKnaRYrbRuY8DKGw52nOaXw&usqp=CAU"})},children:[Object(r.jsx)("input",{required:!0,placeholder:"Your name",onChange:K,name:"name",type:"text",className:"cardEditForm__form__name",defaultValue:d||""}),Object(r.jsx)("input",{required:!0,placeholder:"Your company",onChange:K,name:"company",type:"text",className:"cardEditForm__form__company",defaultValue:m||""}),Object(r.jsxs)("div",{className:"cardEditForm__form__themeWrapper",children:[Object(r.jsx)("span",{children:x}),Object(r.jsxs)("label",{htmlFor:u,className:"cardEditForm__form__themeWrapper__theme",children:[Object(r.jsx)("input",{id:u,onChange:function(e){var t;e.target.checked?((t=g).current.style.opacity="1",t.current.style.zIndex="3",t.current.style.transform="translateY(0)"):function(e){e.current.style.opacity="0",e.current.style.zIndex="-1",e.current.style.transform="translateY(-10px)"}(g)},className:"cardEditForm__form__themeWrapper__theme__input",type:"checkbox",style:{display:"none"}}),Object(r.jsx)("i",{className:"fas fa-caret-down cardEditForm__form__themeWrapper__theme__icon"})]}),Object(r.jsxs)("div",{ref:g,className:"cardEditForm__form__themeWrapper__themeMenu",children:[Object(r.jsxs)("label",{htmlFor:u+"dark",className:"cardEditForm__form__themeWrapper__themeMenu__dark",children:[Object(r.jsx)("input",{value:"dark",onChange:N,style:{display:"none"},id:u+"dark",name:"theme",type:"radio",className:"cardEditForm__form__themeWrapper__themeMenu__dark__input"}),Object(r.jsx)("span",{className:"cardEditForm__form__themeWrapper__themeMenu__dark__span",children:"dark"})]}),Object(r.jsxs)("label",{htmlFor:u+"light",className:"cardEditForm__form__themeWrapper__themeMenu__light",children:[Object(r.jsx)("input",{value:"light",onChange:N,style:{display:"none"},id:u+"light",name:"theme",type:"radio",className:"cardEditForm__form__themeWrapper__themeMenu__light__input"}),Object(r.jsx)("span",{className:"cardEditForm__form__themeWrapper__themeMenu__light__span",children:"light"})]})]})]}),Object(r.jsx)("input",{required:!0,placeholder:"Your job",onChange:K,name:"title",type:"text",className:"cardEditForm__form__title",defaultValue:_||""}),Object(r.jsx)("input",{required:!0,placeholder:"Your email",onChange:K,name:"email",type:"email",className:"cardEditForm__form__email",defaultValue:b||""}),Object(r.jsx)("textarea",{required:!0,placeholder:"100 texts limit...",onChange:K,name:"message",type:"text",wrap:"hard",className:"cardEditForm__form__message",defaultValue:f||""}),Object(r.jsx)(t,{id:u,fileURL:p,onImage:function(e){J(e),!n&&l({id:u,name:"fileURL",value:e})}}),n?Object(r.jsx)("input",{type:"submit",className:"cardEditForm__form__btn",value:"Add"}):Object(r.jsx)("button",{type:"button",className:"cardEditForm__form__btn",onClick:function(){i(u)},children:"Delete"})]})})}),h=function(e){var t=e.FileInput,a=e.cards,n=e.onInfo,c=e.onDelete,s=e.updateCard,i={id:Date.now(),name:"",company:"",theme:"dark",email:"",message:"",fileName:"",fileURL:""},l=function(e){n(e)},o=function(e){c(e)},u=function(e){s(e)};return Object(r.jsxs)("ul",{className:"cardeditformList",children:[Object.keys(a).map((function(e){return Object(r.jsx)(p,{FileInput:t,card:a[e],isNew:!1,onInfo:l,onDelete:o,updateCard:u},e)})),Object(r.jsx)(p,{card:i,isNew:!0,onInfo:l,onDelete:o,FileInput:t},i.id)]})},O=function(e){var t=e.FileInput,a=e.cards,n=e.onInfo,c=e.onDelete,s=e.updateCard;return Object(r.jsxs)("section",{className:"edit",children:[Object(r.jsx)("h3",{className:"edit__name",children:"Card Maker"}),Object(r.jsx)(h,{FileInput:t,cards:a,onInfo:function(e){n(e)},onDelete:function(e){c(e)},updateCard:function(e){s(e)}})]})},x=(a(46),function(e){var t,a,n=e.card,c=n.name,s=n.company,i=n.theme,l=n.title,o=n.email,u=n.message,d=n.fileName,m=n.fileURL;return"dark"===i?(t="#1e272e",a="#f1f2f6"):(t="#f1f2f6",a="#1e272e"),Object(r.jsxs)("li",{className:"card",style:{backgroundColor:"".concat(t),color:"".concat(a)},children:[Object(r.jsx)("img",{src:m,className:"card__thumb",alt:d}),Object(r.jsxs)("div",{className:"card__info",children:[Object(r.jsxs)("div",{className:"card__info__name",children:[Object(r.jsx)("h6",{className:"card__info__name__name",children:c}),Object(r.jsx)("p",{className:"card__info__name__company",children:s})]}),Object(r.jsxs)("div",{className:"card__info__details",children:[Object(r.jsx)("p",{className:"card__info__details__title",children:l}),Object(r.jsx)("p",{className:"card__info__details__email",children:o}),Object(r.jsx)("p",{className:"card__info__details__message",children:u})]})]})]})}),v=(a(47),function(e){var t=e.cards;return Object(r.jsx)("ul",{className:"cardlist",children:Object.keys(t).map((function(e){return Object(r.jsx)(x,{card:t[e]},e)}))})}),g=(a(48),function(e){var t=e.cards;return Object(r.jsxs)("section",{className:"preview",children:[Object(r.jsx)("h3",{className:"preview__name",children:"Card Preview"}),Object(r.jsx)(v,{cards:t})]})}),N=(a(49),function(e){var t=e.FileInput,a=e.userobj,s=e.cardRef,i=a.uid,l=Object(c.useState)({}),u=Object(o.a)(l,2),d=u[0],m=u[1];Object(c.useEffect)((function(){var e=s.syncCards(i,(function(e){return m(e)}));return function(){return e()}}),[i,s]);return Object(r.jsxs)("div",{className:"home",children:[Object(r.jsx)(O,{FileInput:t,cards:d,onInfo:function(e){m((function(t){var a=Object(n.a)({},t);return a[e.id]=e,s.saveCard(i,a),a}))},onDelete:function(e){m((function(t){var a=Object(n.a)({},t);return delete a[e],s.deleteCard(i),a}))},updateCard:function(e){m((function(t){var a=Object(n.a)({},t);return a[e.id][e.name]=e.value,s.saveCard(i,a),a}))}}),Object(r.jsx)(g,{cards:d})]})}),y=(a(50),function(){return Object(r.jsxs)("div",{className:"title",children:[Object(r.jsx)("i",{className:"fas fa-book title__icon"}),Object(r.jsx)("h1",{className:"title__name",children:"BUSINESS CARD MAKER"})]})}),w=a(8),k=a.n(w),C=a(12),F=(a(52),function(e){var t=e.resetRef,a=Object(c.useState)(""),n=Object(o.a)(a,2),s=n[0],i=n[1],l=function(){var e=Object(C.a)(k.a.mark((function e(a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,m.sendPasswordResetEmail(s);case 4:e.sent,window.alert("Check out your email"),t.current.style.opacity="0",t.current.style.zIndex="-1",t.current.style.transform="translateY(-10px)",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),window.alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"password",ref:t,children:[Object(r.jsxs)("div",{className:"password__header",children:[Object(r.jsx)("span",{className:"password__header__title",children:"Reset Password"}),Object(r.jsx)("button",{className:"password__header__cancle",onClick:function(){t.current.style.opacity="0",t.current.style.zIndex="-1",t.current.style.transform="translateY(-10px)"},children:Object(r.jsx)("i",{className:"fas fa-times"})})]}),Object(r.jsxs)("form",{className:"password__form",onSubmit:l,children:[Object(r.jsxs)("div",{className:"password__form__email",children:[Object(r.jsx)("label",{htmlFor:"resetemail",className:"password__form__email__label",children:Object(r.jsx)("i",{className:"fas fa-user"})}),Object(r.jsx)("input",{className:"password__form__email__input",id:"resetemail",type:"email",value:s,placeholder:"type your email",required:!0,onChange:function(e){var t=e.target.value;i(t)}})]}),Object(r.jsx)("input",{type:"submit",value:"reset",className:"password__form__reset"})]})]})}),I=(a(53),function(e){var t=e.onAuth,a=function(e){var a=e.target.name;t.login("provider",a)};return Object(r.jsxs)("div",{className:"provider",children:[Object(r.jsx)("button",{className:"provider__google",name:"Google",onClick:a,children:Object(r.jsx)("i",{className:"fab fa-google provider__google__icon"})}),Object(r.jsx)("button",{className:"provider__github",name:"Github",onClick:a,children:Object(r.jsx)("i",{className:"fab fa-github provider__github__icon"})})]})}),S=(a(54),function(e){var t=e.onAuth,a=Object(c.useState)(""),n=Object(o.a)(a,2),s=n[0],i=n[1],l=Object(c.useState)(""),u=Object(o.a)(l,2),d=u[0],m=u[1],j=Object(c.useState)(!1),_=Object(o.a)(j,2),b=_[0],f=_[1],p=Object(c.useRef)(),h=function(e){var t=e.target,a=t.value,n=t.name;"email"===n?i(a):"password"===n&&m(a)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"loginheader",children:Object(r.jsx)(y,{})}),Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("h1",{className:"login__title",children:"Login"}),Object(r.jsxs)("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),b?t.login("emailCreate",[s,d]):t.login("emailLogin",[s,d])},children:[Object(r.jsxs)("div",{className:"login__form__email",children:[Object(r.jsx)("label",{htmlFor:"email",className:"login__form__email__label",children:Object(r.jsx)("i",{className:"fas fa-user"})}),Object(r.jsx)("input",{className:"login__form__email__input",id:"email",type:"email",name:"email",value:s,placeholder:"email",required:!0,onChange:h})]}),Object(r.jsxs)("div",{className:"login__form__password",children:[Object(r.jsx)("label",{htmlFor:"password",className:"login__form__password__label",children:Object(r.jsx)("i",{className:"fas fa-lock"})}),Object(r.jsx)("input",{className:"login__form__password__input",id:"password",type:"password",name:"password",value:d,placeholder:"password",required:!0,onChange:h})]}),Object(r.jsx)("input",{className:"login__form__submit",id:"submit",type:"submit",value:b?"Create Account":"Sign in"})]}),Object(r.jsxs)("div",{className:"login__btn",children:[Object(r.jsx)("button",{className:"login__btn__toggle",onClick:function(){return f((function(e){return!e}))},children:b?"...you have account?":"...you have no account?"}),Object(r.jsx)("button",{className:"login__btn__find",onClick:function(){p.current.style.opacity="1",p.current.style.zIndex="3",p.current.style.transform="translateY(10px)"},children:"...forgot password?"})]}),Object(r.jsx)(F,{resetRef:p}),Object(r.jsx)(I,{onAuth:t})]})]})}),R=(a(55),Object(c.memo)((function(e){var t=e.userobj,a=Object(f.f)(),n=function(e){m.signOut(),a.push("/")},s=Object(c.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useRef)(),j=Object(c.useState)(!1),_=Object(o.a)(j,2),p=_[0],h=_[1],O=Object(c.useRef)();return Object(r.jsxs)("div",{className:"nav",children:[Object(r.jsx)(b.b,{to:"/",className:"nav__home",children:Object(r.jsx)(y,{})}),Object(r.jsx)("button",{className:"nav__bars",onClick:function(){l?(d.current.style.opacity="0",d.current.style.transform="translateX(100%)",d.current.style.zIndex="-1",u((function(e){return!e}))):(d.current.style.opacity="1",d.current.style.transform="translateX(0)",d.current.style.zIndex="3",u((function(e){return!e})))},children:Object(r.jsx)("i",{className:"fas fa-bars"})}),Object(r.jsxs)("button",{className:"nav__user",onClick:function(){p?(O.current.style.opacity="0",O.current.style.transform="translateY(-150%)",O.current.style.zIndex="-1",h((function(e){return!e}))):(O.current.style.opacity="1",O.current.style.transform="translateY(10%)",O.current.style.zIndex="3",h((function(e){return!e})))},children:[Object(r.jsx)("img",{src:t.photoURL,alt:t.displayName,className:"nav__user__profile"}),Object(r.jsx)("i",{className:"fas fa-caret-down nav__user__icon"})]}),Object(r.jsxs)("div",{className:"nav__menu",ref:O,children:[Object(r.jsxs)("span",{className:"nav__menu__profile",children:[Object(r.jsx)("p",{className:"nav__menu__profile__text",children:"Signed in as"}),Object(r.jsx)("p",{className:"nav__menu__profile__name",children:t.displayName})]}),Object(r.jsx)("button",{onClick:n,className:"nav__menu__signout",children:"Sign out"})]}),Object(r.jsx)("div",{className:"nav__smallMenu",ref:d,children:Object(r.jsx)("button",{onClick:n,className:"nav__smallMenu__signout",children:"Sign out"})})]})}))),E=function(e){var t=e.isLogin,a=e.userobj,n=e.onAuth,c=e.FileInput,s=e.cardRef;return Object(r.jsx)(b.a,{children:Object(r.jsx)(f.c,{children:t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R,{userobj:a}),Object(r.jsx)(f.a,{exact:!0,path:"/",children:Object(r.jsx)(N,{FileInput:c,userobj:a,cardRef:s})})]}):Object(r.jsx)(f.a,{exact:!0,path:"/",children:Object(r.jsx)(S,{onAuth:n})})})})},L=(a(60),Object(c.memo)((function(){return Object(r.jsx)("footer",{className:"footer",children:"BusinessCardMaker | 2021 | Tom Kim"})})));var A=function(e){var t=e.FileInput,a=e.onAuth,n=e.cardRef,s=Object(c.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],f=j[1],p=Object(c.useState)(null),h=Object(o.a)(p,2),O=h[0],x=h[1];return Object(c.useEffect)((function(){m.onAuthStateChanged((function(e){e?(x({displayName:e.displayName||"Visitor.".concat(e.uid.slice(0,3)),uid:e.uid,photoURL:e.photoURL||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6affXwdu79nsCKnaRYrbRuY8DKGw52nOaXw&usqp=CAU"}),u(!0)):u(!1),f(!0)}))}),[m]),Object(r.jsx)(r.Fragment,{children:b?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{isLogin:l,userobj:O,onAuth:a,FileInput:t,cardRef:n}),Object(r.jsx)(L,{})]}):Object(r.jsx)(_,{})})},U=(a(61),a(18)),D=a(22),W=function(){function e(){Object(U.a)(this,e),this.emailCreate=function(){var e=Object(C.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.createUserWithEmailAndPassword(t[0],t[1]);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),window.alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.emailLogin=function(){var e=Object(C.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.signInWithEmailAndPassword(t[0],t[1]);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),window.alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.providerLogin=function(){var e=Object(C.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new(d.auth["".concat(t,"AuthProvider")]),e.prev=1,e.next=4,m.signInWithPopup(a);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),window.alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}return Object(D.a)(e,[{key:"login",value:function(e,t){"provider"===e?this.providerLogin(t):"emailCreate"===e?this.emailCreate(t):"emailLogin"===e&&this.emailLogin(t)}}]),e}(),Y=function e(){Object(U.a)(this,e),this.upload=function(){var e=Object(C.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","q9gmvc5z"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dffhras2d/image/upload",{method:"POST",body:a});case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=(a(64),function(e){var t,a=e.id,n=e.ImageUploader,s=e.onImage,i=e.fileURL,l=Object(c.useState)(!1),u=Object(o.a)(l,2),d=u[0],m=u[1];t=i?"pink":"#d2dae2";var j=function(){var e=Object(C.a)(k.a.mark((function e(t){var a,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),a=t.target.files,r=a[0],e.next=5,n.upload(r);case 5:c=e.sent,m(!1),s(c.url);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"imageUploader",children:d?Object(r.jsx)("div",{className:"isLoading",children:Object(r.jsx)("svg",{className:"isLoading__svg",children:Object(r.jsx)("circle",{cx:"6",cy:"6",r:"6"})})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{className:"imageUploader__input",htmlFor:a+"img",style:{backgroundColor:"".concat(t)},children:i?"Choosed":"Choose file"}),Object(r.jsx)("input",{id:a+"img",type:"file",accept:"image/*",style:{display:"none"},onChange:j})]})})}),q=function(){function e(){Object(U.a)(this,e)}return Object(D.a)(e,[{key:"saveCard",value:function(e,t){j.ref("".concat(e,"/cards")).set(t)}},{key:"deleteCard",value:function(e){j.ref("".concat(e,"/cards")).remove()}},{key:"syncCards",value:function(e,t){var a=j.ref("".concat(e,"/cards"));return a.on("value",(function(e){var a=e.val();a&&t(a)})),function(){return a.off()}}}]),e}(),M=new W,P=new Y,G=new q;l.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(A,{onAuth:M,FileInput:function(e){return Object(r.jsx)(z,Object(n.a)(Object(n.a)({},e),{},{ImageUploader:P}))},cardRef:G})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.a6dc64d9.chunk.js.map